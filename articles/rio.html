<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Import, Export, and Convert Data Files • rio</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import, Export, and Convert Data Files">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/rio.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/extension.html">Extending rio</a></li>
    <li><a class="dropdown-item" href="../articles/labelled.html">Working with labelled data</a></li>
    <li><a class="dropdown-item" href="../articles/philosophy.html">Package Philosophy</a></li>
    <li><a class="dropdown-item" href="../articles/remap.html">Remapping and Ellipsis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gesistsa/rio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Import, Export, and Convert Data Files</h1>
            
            <h4 data-toc-skip class="date">2024-09-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/gesistsa/rio/blob/main/vignettes/rio.Rmd" class="external-link"><code>vignettes/rio.Rmd</code></a></small>
      <div class="d-none name"><code>rio.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="import-export-and-convert-data-files">Import, Export, and Convert Data Files<a class="anchor" aria-label="anchor" href="#import-export-and-convert-data-files"></a>
</h2>
<p>The idea behind <strong>rio</strong> is to simplify the process of
importing data into R and exporting data from R. This process is,
probably unnecessarily, extremely complex for beginning R users. Indeed,
R supplies <a href="https://cran.r-project.org/doc/manuals/r-release/R-data.html" class="external-link">an
entire manual</a> describing the process of data import/export. And,
despite all of that text, most of the packages described are (to varying
degrees) out-of-date. Faster, simpler, packages with fewer dependencies
have been created for many of the file types described in that document.
<strong>rio</strong> aims to unify data I/O (importing and exporting)
into two simple functions: <code><a href="../reference/import.html">import()</a></code> and
<code><a href="../reference/export.html">export()</a></code> so that beginners (and experienced R users) never
have to think twice (or even once) about the best way to read and write
R data.</p>
<p>The core advantage of <strong>rio</strong> is that it makes
assumptions that the user is probably willing to make. Specifically,
<strong>rio</strong> uses the file extension of a file name to determine
what kind of file it is. This is the same logic used by Windows OS, for
example, in determining what application is associated with a given file
type. By taking away the need to manually match a file type (which a
beginner may not recognize) to a particular import or export function,
<strong>rio</strong> allows almost all common data formats to be read
with the same function.</p>
<p>By making import and export easy, it’s an obvious next step to also
use R as a simple data conversion utility. Transferring data files
between various proprietary formats is always a pain and often
expensive. The <code>convert</code> function therefore combines
<code>import</code> and <code>export</code> to easily convert between
file formats (thus providing a FOSS replacement for programs like
Stat/Transfer or Sledgehammer.</p>
<div class="section level3">
<h3 id="supported-file-formats">Supported file formats<a class="anchor" aria-label="anchor" href="#supported-file-formats"></a>
</h3>
<p><strong>rio</strong> supports a variety of different file formats for
import and export. To keep the package slim, all non-essential formats
are supported via “Suggests” packages, which are not installed (or
loaded) by default. To ensure rio is fully functional, install these
packages the first time you use <strong>rio</strong> via:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/install_formats.html">install_formats</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The full list of supported formats is below:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="10%">
<col width="10%">
<col width="5%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th align="left">Name</th>
<th align="left">Extensions / “format”</th>
<th align="left">Import Package</th>
<th align="left">Export Package</th>
<th align="left">Type</th>
<th align="left">Note</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Archive files (handled by tar)</td>
<td align="left">tar / tar.gz / tgz / tar.bz2 / tbz2</td>
<td align="left">utils</td>
<td align="left">utils</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Bzip2</td>
<td align="left">bz2 / bzip2</td>
<td align="left">base</td>
<td align="left">base</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Gzip</td>
<td align="left">gz / gzip</td>
<td align="left">base</td>
<td align="left">base</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Zip files</td>
<td align="left">zip</td>
<td align="left">utils</td>
<td align="left">utils</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Ambiguous file format</td>
<td align="left">dat</td>
<td align="left">data.table</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left">Attempt as delimited text data</td>
</tr>
<tr class="even">
<td align="left">CSVY (CSV + YAML metadata header)</td>
<td align="left">csvy</td>
<td align="left">data.table</td>
<td align="left">data.table</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Comma-separated data</td>
<td align="left">csv</td>
<td align="left">data.table</td>
<td align="left">data.table</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Comma-separated data (European)</td>
<td align="left">csv2</td>
<td align="left">data.table</td>
<td align="left">data.table</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Data Interchange Format</td>
<td align="left">dif</td>
<td align="left">utils</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Epiinfo</td>
<td align="left">epiinfo / rec</td>
<td align="left">foreign</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Excel</td>
<td align="left">excel / xlsx</td>
<td align="left">readxl</td>
<td align="left">writexl</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Excel (Legacy)</td>
<td align="left">xls</td>
<td align="left">readxl</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Fixed-width format data</td>
<td align="left">fwf</td>
<td align="left">readr</td>
<td align="left">utils</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Fortran data</td>
<td align="left">fortran</td>
<td align="left">utils</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left">No recognized extension</td>
</tr>
<tr class="odd">
<td align="left">Google Sheets</td>
<td align="left">googlesheets</td>
<td align="left">data.table</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left">As comma-separated data</td>
</tr>
<tr class="even">
<td align="left">Minitab</td>
<td align="left">minitab / mtp</td>
<td align="left">foreign</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Pipe-separated data</td>
<td align="left">psv</td>
<td align="left">data.table</td>
<td align="left">data.table</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">R syntax</td>
<td align="left">r</td>
<td align="left">base</td>
<td align="left">base</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">SAS</td>
<td align="left">sas / sas7bdat</td>
<td align="left">haven</td>
<td align="left">haven</td>
<td align="left">Default</td>
<td align="left">Export is deprecated</td>
</tr>
<tr class="even">
<td align="left">SAS XPORT</td>
<td align="left">xport / xpt</td>
<td align="left">haven</td>
<td align="left">haven</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">SPSS</td>
<td align="left">sav / spss</td>
<td align="left">haven</td>
<td align="left">haven</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">SPSS (compressed)</td>
<td align="left">zsav</td>
<td align="left">haven</td>
<td align="left">haven</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">SPSS Portable</td>
<td align="left">por</td>
<td align="left">haven</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Saved R objects</td>
<td align="left">rda / rdata</td>
<td align="left">base</td>
<td align="left">base</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Serialized R objects</td>
<td align="left">rds</td>
<td align="left">base</td>
<td align="left">base</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Stata</td>
<td align="left">dta / stata</td>
<td align="left">haven</td>
<td align="left">haven</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Systat</td>
<td align="left">syd / systat</td>
<td align="left">foreign</td>
<td align="left"></td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Tab-separated data</td>
<td align="left">/ tsv / txt</td>
<td align="left">data.table</td>
<td align="left">data.table</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Text Representations of R Objects</td>
<td align="left">dump</td>
<td align="left">base</td>
<td align="left">base</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Weka Attribute-Relation File Format</td>
<td align="left">arff / weka</td>
<td align="left">foreign</td>
<td align="left">foreign</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">XBASE database files</td>
<td align="left">dbf</td>
<td align="left">foreign</td>
<td align="left">foreign</td>
<td align="left">Default</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Apache Arrow (Parquet)</td>
<td align="left">parquet</td>
<td align="left">nanoparquet</td>
<td align="left">nanoparquet</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Clipboard</td>
<td align="left">clipboard</td>
<td align="left">clipr</td>
<td align="left">clipr</td>
<td align="left">Suggest</td>
<td align="left">default is tsv</td>
</tr>
<tr class="even">
<td align="left">EViews</td>
<td align="left">eviews / wf1</td>
<td align="left">hexView</td>
<td align="left"></td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Fast Storage</td>
<td align="left">fst</td>
<td align="left">fst</td>
<td align="left">fst</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Feather R/Python interchange format</td>
<td align="left">feather</td>
<td align="left">arrow</td>
<td align="left">arrow</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Graphpad Prism</td>
<td align="left">pzfx</td>
<td align="left">pzfx</td>
<td align="left">pzfx</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">HTML Tables</td>
<td align="left">htm / html</td>
<td align="left">xml2</td>
<td align="left">xml2</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">JSON</td>
<td align="left">json</td>
<td align="left">jsonlite</td>
<td align="left">jsonlite</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Matlab</td>
<td align="left">mat / matlab</td>
<td align="left">rmatio</td>
<td align="left">rmatio</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">OpenDocument Spreadsheet</td>
<td align="left">ods</td>
<td align="left">readODS</td>
<td align="left">readODS</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">OpenDocument Spreadsheet (Flat)</td>
<td align="left">fods</td>
<td align="left">readODS</td>
<td align="left">readODS</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Serialized R objects (Quick)</td>
<td align="left">qs</td>
<td align="left">qs</td>
<td align="left">qs</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Shallow XML documents</td>
<td align="left">xml</td>
<td align="left">xml2</td>
<td align="left">xml2</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">YAML</td>
<td align="left">yaml / yml</td>
<td align="left">yaml</td>
<td align="left">yaml</td>
<td align="left">Suggest</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Additionally, any format that is not supported by
<strong>rio</strong> but that has a known R implementation will produce
an informative error message pointing to a package and import or export
function. Unrecognized formats will yield a simple “Unrecognized file
format” error.</p>
</div>
<div class="section level3">
<h3 id="data-import">Data Import<a class="anchor" aria-label="anchor" href="#data-import"></a>
</h3>
<p><strong>rio</strong> allows you to import files in almost any format
using one, typically single-argument, function. <code><a href="../reference/import.html">import()</a></code>
infers the file format from the file’s extension and calls the
appropriate data import function for you, returning a simple data.frame.
This works for any for the formats listed above.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://gesistsa.github.io/rio/" class="external-link">"rio"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"mtcars.dta"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># confirm identical</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, check.attributes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<p>If for some reason a file does not have an extension, or has a file
extension that does not match its actual type, you can manually specify
a file format to override the format inference step. For example, we can
read in a CSV file that does not have a file extension by specifying
<code>csv</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"mtcars_noext"</span>, format <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span><span class="co">## 1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span><span class="co">## 2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span><span class="co">## 3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span><span class="co">## 4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span><span class="co">## 5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span><span class="co">## 6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></span></code></pre>
<div class="section level4">
<h4 id="importing-data-lists">Importing Data Lists<a class="anchor" aria-label="anchor" href="#importing-data-lists"></a>
</h4>
<p>Sometimes you may have multiple data files that you want to import.
<code><a href="../reference/import.html">import()</a></code> only ever returns a single data frame, but
<code><a href="../reference/import_list.html">import_list()</a></code> can be used to import a vector of file names
into R. This works even if the files are different formats:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/import_list.html">import_list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Similarly, some single-file formats (e.g. Excel Workbooks, Zip
directories, HTML files, etc.) can contain multiple data sets. Because
<code><a href="../reference/import.html">import()</a></code> is type safe, always returning a data frame,
importing from these formats requires specifying a <code>which</code>
argument to <code><a href="../reference/import.html">import()</a></code> to dictate which data set (worksheet,
file, table, etc.) to import (the default being <code>which = 1</code>).
But <code><a href="../reference/import_list.html">import_list()</a></code> can be used to import all (or only a
specified subset, again via <code>which</code>) of data objects from
these types of files.</p>
</div>
</div>
<div class="section level3">
<h3 id="data-export">Data Export<a class="anchor" aria-label="anchor" href="#data-export"></a>
</h3>
<p>The export capabilities of <strong>rio</strong> are somewhat more
limited than the import capabilities, given the availability of
different functions in various R packages and because import functions
are often written to make use of data from other applications and it
never seems to be a development priority to have functions to export to
the formats used by other applications. That said, <strong>rio</strong>
currently supports the following formats:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://gesistsa.github.io/rio/" class="external-link">"rio"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/export.html">export</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/export.html">export</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.dta"</span><span class="op">)</span></span></code></pre></div>
<p>It is also easy to use <code><a href="../reference/export.html">export()</a></code> as part of an R pipeline
(from magrittr or dplyr). For example, the following code uses
<code><a href="../reference/export.html">export()</a></code> to save the results of a simple data
transformation:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://magrittr.tidyverse.org" class="external-link">"magrittr"</a></span><span class="op">)</span></span>
<span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">hp</span> <span class="op">&gt;</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">am</span>, data <span class="op">=</span> <span class="va">.</span>, FUN <span class="op">=</span> <span class="va">mean</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/export.html">export</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"mtcars2.dta"</span><span class="op">)</span></span></code></pre></div>
<p>Some file formats (e.g., Excel workbooks, Rdata files) can support
multiple data objects in a single file. <code><a href="../reference/export.html">export()</a></code> natively
supports output of multiple objects to these types of files:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># export to sheets of an Excel workbook</span></span>
<span><span class="fu"><a href="../reference/export.html">export</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mtcars <span class="op">=</span> <span class="va">mtcars</span>, iris <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>, <span class="st">"multi.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>It is also possible to use the new (as of v0.6.0) function
<code><a href="../reference/export_list.html">export_list()</a></code> to write a list of data frames to multiple
files using either a vector of file names or a file pattern:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/export_list.html">export_list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mtcars <span class="op">=</span> <span class="va">mtcars</span>, iris <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>, <span class="st">"%s.tsv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="file-conversion">File Conversion<a class="anchor" aria-label="anchor" href="#file-conversion"></a>
</h3>
<p>The <code><a href="../reference/convert.html">convert()</a></code> function links <code><a href="../reference/import.html">import()</a></code> and
<code><a href="../reference/export.html">export()</a></code> by constructing a dataframe from the imported file
and immediately writing it back to disk. <code><a href="../reference/convert.html">convert()</a></code>
invisibly returns the file name of the exported file, so that it can be
used to programmatically access the new file.</p>
<p>Because <code><a href="../reference/convert.html">convert()</a></code> is just a thin wrapper for
<code><a href="../reference/import.html">import()</a></code> and <code><a href="../reference/export.html">export()</a></code>, it is very easy to use.
For example, we can convert</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create file to convert</span></span>
<span><span class="fu"><a href="../reference/export.html">export</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.dta"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># convert Stata to SPSS</span></span>
<span><span class="fu"><a href="../reference/convert.html">convert</a></span><span class="op">(</span><span class="st">"mtcars.dta"</span>, <span class="st">"mtcars.sav"</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/convert.html">convert()</a></code> also accepts lists of arguments for
controlling import (<code>in_opts</code>) and export
(<code>out_opts</code>). This can be useful for passing additional
arguments to import or export methods. This could be useful, for
example, for reading in a fixed-width format file and converting it to a
comma-separated values file:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create an ambiguous file</span></span>
<span><span class="va">fwf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".fwf"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">fwf</span>, <span class="st">"123456"</span>, <span class="st">"987654"</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># see two ways to read in the file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="va">fwf</span>, widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="va">fwf</span>, widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: The `widths` argument of `import()` is deprecated as of rio 1.0.2.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> `widths` is kept for backward compatibility. Please use `col_positions` or</span></span>
<span><span class="co">##   unset `widths` to allow automatic guessing, see `?readr::read_fwf`. The</span></span>
<span><span class="co">##   parameter `widths` will be dropped in v2.0.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">rio</span> package.</span></span>
<span><span class="co">##   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/gesistsa/rio/issues&gt;</span>.</span></span>
<span><span class="co">## <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">## <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">## <span style="color: #555555;">generated.</span></span></span></code></pre>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">2</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (3): X1, X2, X3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">2</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (3): X1, X2, X3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># convert to CSV</span></span>
<span><span class="fu"><a href="../reference/convert.html">convert</a></span><span class="op">(</span><span class="va">fwf</span>, <span class="st">"fwf.csv"</span>, in_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">2</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (3): X1, X2, X3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"fwf.csv"</span><span class="op">)</span> <span class="co"># check conversion</span></span></code></pre></div>
<pre><code><span><span class="co">##   X1 X2  X3</span></span>
<span><span class="co">## 1  1 23 456</span></span>
<span><span class="co">## 2  9 87 654</span></span></code></pre>
<p>With metadata-rich file formats (e.g., Stata, SPSS, SAS), it can also
be useful to pass imported data through <code><a href="../reference/characterize.html">characterize()</a></code> or
<code><a href="../reference/characterize.html">factorize()</a></code> when converting to an open, text-delimited
format: <code><a href="../reference/characterize.html">characterize()</a></code> converts a single variable or all
variables in a data frame that have “labels” attributes into character
vectors based on the mapping of values to value labels (e.g.,
<code>export(characterize(import("file.dta")), "file.csv")</code>). An
alternative approach is exporting to CSVY format, which records metadata
in a YAML-formatted header at the beginning of a CSV file.</p>
<p>It is also possible to use <strong>rio</strong> on the command-line
by calling <code>Rscript</code> with the <code>-e</code> (expression)
argument. For example, to convert a file from Stata (.dta) to
comma-separated values (.csv), simply do the following:</p>
<pre><code>Rscript -e "rio::convert('mtcars.dta', 'mtcars.csv')"</code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Maintained by <a href="https://github.com/gesistsa" class="external-link"><img alt="TSA Team" src="https://raw.githubusercontent.com/gesistsa/.github/main/tsa_logo.png" width="20"> Transparent Social Analytics Team, GESIS</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Developed by Jason Becker, <a href="http://www.chainsawriot.com" class="external-link">Chung-hong Chan</a>, <a href="https://mr.schochastics.net" class="external-link">David Schoch</a>, Thomas J. Leeper.</p>
</div>

    </footer>
</div>





  </body>
</html>
