<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Package Philosophy • rio</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Package Philosophy">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/rio.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/extension.html">Extending rio</a></li>
    <li><a class="dropdown-item" href="../articles/labelled.html">Working with labelled data</a></li>
    <li><a class="dropdown-item" href="../articles/philosophy.html">Package Philosophy</a></li>
    <li><a class="dropdown-item" href="../articles/remap.html">Remapping and Ellipsis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gesistsa/rio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Package Philosophy</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gesistsa/rio/blob/main/vignettes/philosophy.Rmd" class="external-link"><code>vignettes/philosophy.Rmd</code></a></small>
      <div class="d-none name"><code>philosophy.Rmd</code></div>
    </div>

    
    
<p>The core advantage of <strong>rio</strong> is that it makes
assumptions that the user is probably willing to make. Eight of these
are important:</p>
<ol style="list-style-type: decimal">
<li><p><strong>rio</strong> uses the file extension of a file name to
determine what kind of file it is. This is the same logic used by
Windows OS, for example, in determining what application is associated
with a given file type. By removing the need to manually match a file
type (which a beginner may not recognize) to a particular import or
export function, <strong>rio</strong> allows almost all common data
formats to be read with the same function. And if a file extension is
incorrect, users can force a particular import method by specifying the
<code>format</code> argument.</p></li>
<li><p><strong>rio</strong> uses <code><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">data.table::fread()</a></code> for
text-delimited files to automatically determine the file format
regardless of the extension. So, a CSV that is actually tab-separated
will still be correctly imported. It’s also crazy fast.</p></li>
<li><p><strong>rio</strong>, wherever possible, does not import
character strings as factors.</p></li>
<li><p><strong>rio</strong> supports web-based imports natively,
including from SSL (HTTPS) URLs, from shortened URLs, from URLs that
lack proper extensions, and from (public) Google Documents
Spreadsheets.</p></li>
<li><p><strong>rio</strong> imports from from single-file .zip and .tar
archives automatically, without the need to explicitly decompress them.
Export to compressed directories is also supported.</p></li>
<li><p><strong>rio</strong> wraps a variety of faster, more stream-lined
I/O packages than those provided by base R or the
<strong>foreign</strong> package. It uses <a href="https://cran.r-project.org/package=data.table" class="external-link"><strong>data.table</strong></a>
for delimited formats, <a href="https://cran.r-project.org/package=haven" class="external-link"><strong>haven</strong></a>
for SAS, Stata, and SPSS files, smarter and faster fixed-width file
import and export routines, and <a href="https://cran.r-project.org/package=readxl" class="external-link"><strong>readxl</strong></a>
and <a href="https://cran.r-project.org/package=writexl" class="external-link"><strong>writexl</strong></a>
for reading and writing Excel workbooks.</p></li>
<li>
<p><strong>rio</strong> stores metadata from rich file formats
(SPSS, Stata, etc.) in variable-level attributes in a consistent form
regardless of file type or underlying import function. These attributes
are identified as:</p>
<ul>
<li>
<code>label</code>: a description of variable</li>
<li>
<code>labels</code>: a vector mapping numeric values to character
strings those values represent</li>
<li>
<code>format</code>: a character string describing the variable
storage type in the original file</li>
</ul>
<p>The <code><a href="../reference/gather_attrs.html">gather_attrs()</a></code> function makes it easy to move
variable-level attributes to the data frame level (and
<code><a href="../reference/gather_attrs.html">spread_attrs()</a></code> reverses that gathering process). These can
be useful, especially, during file conversion to more easily modify
attributes that are handled differently across file formats. As an
example, the following idiom can be used to trim SPSS value labels to
the 32-character maximum allowed by Stata:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gather_attrs.html">gather_attrs</a></span><span class="op">(</span><span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"data.sav"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">dat</span>, <span class="st">"labels"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">$</span><span class="va">labels</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">32</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="va">x</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/export.html">export</a></span><span class="op">(</span><span class="fu"><a href="../reference/gather_attrs.html">spread_attrs</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, <span class="st">"data.dta"</span><span class="op">)</span></span></code></pre></div>
<p>In addition, two functions (added in v0.5.5) provide easy ways to
create character and factor variables from these “labels” attributes.
<code><a href="../reference/characterize.html">characterize()</a></code> converts a single variable or all variables
in a data frame that have “labels” attributes into character vectors
based on the mapping of values to value labels. <code><a href="../reference/characterize.html">factorize()</a></code>
does the same but returns factor variables. This can be especially
helpful for converting these rich file formats into open formats (e.g.,
<code>export(characterize(import("file.dta")), "file.csv")</code>.</p>
</li>
<li><p><strong>rio</strong> imports and exports files based on an
internal S3 class infrastructure. This means that other packages can
contain extensions to <strong>rio</strong> by registering S3 methods.
These methods should take the form <code>.import.rio_X()</code> and
<code>.export.rio_X()</code>, where <code>X</code> is the file extension
of a file type. An example is provided in the <a href="https://github.com/leeper/rio.db" class="external-link">rio.db package</a>.</p></li>
</ol></main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Maintained by <a href="https://github.com/gesistsa" class="external-link"><img alt="TSA Team" src="https://raw.githubusercontent.com/gesistsa/.github/main/tsa_logo.png" width="20"> Transparent Social Analytics Team, GESIS</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Developed by Jason Becker, <a href="http://www.chainsawriot.com" class="external-link">Chung-hong Chan</a>, <a href="https://mr.schochastics.net" class="external-link">David Schoch</a>, Thomas J. Leeper.</p>
</div>

    </footer>
</div>





  </body>
</html>
